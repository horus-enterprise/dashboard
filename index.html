<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.iconify.design/2/2.0.3/iconify.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <link rel="stylesheet" href="./css/style.css">
    <title>Dashboard</title>
</head>

<body>
    <div class="navbar">
        <span class="iconify" data-icon="bx:bxs-user-circle" style="color: #f3b20f;" data-height="48"></span>
        <a href="./index.html"><span class="iconify" data-icon="fluent:home-24-filled" style="color: white;" data-height="48"></span></a>
        <a href="./relatorio.html"><span class="iconify" data-icon="carbon:report" style="color: #6b6b6b;" data-height="48"></span></a>
        <a href="./login.html">
            <div class="btnSair">
                <span class="iconify" data-icon="uil:exit" style="color: #2c2c2c;" data-height="24"></span>
                <span>SAIR</span>
            </div>
        </a>
    </div>

    <div class="container">
        <div class="divPesquisa">
            <input type="text" placeholder="Nome da máquina...">
            <div class="search">
                <span class="iconify" data-icon="ant-design:search-outlined" style="color: white;" data-height="19.2"></span>
            </div>
        </div>

        <div class="divComputadores">
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaCritico.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaCritico.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaCritico.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaEmergencial.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaEmergencial.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaEmergencial.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaEmergencial.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaNormal.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaNormal.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaNormal.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaNormal.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaNormal.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaNormal.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaNormal.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaNormal.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaNormal.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaNormal.svg" alt="Computador com alerta crítico">
            </div>
            <div class="computador" onclick="abrirModal()">
                <h2>{hostname}</h2>
                <img src="./img/alertaNormal.svg" alt="Computador com alerta crítico">
            </div>
        </div>
    </div>

    <div id="modalDetalhes" class="modal">
        <div class="conteudoModal">
            <div>
                <div class="tituloModal">
                    <h1>{hostname}</h1>
                    <span class="iconify" data-icon="akar-icons:clock" style="color: #2c2c2c;" data-height="48"></span>
                    <p id="lblUptime">05:28:37</p>
                    <span id="fecharModal">&cross;</span>
                </div>
            </div>
            <div class="graficos">
                <div class="componente">
                    <div class="descComponente">
                        <h2>Informações</h2>
                        <p id="lblNmFuncionario"><b>Funcionário:</b> Gerivaldo Júnior</p>
                        <p id="lblTempoLogado"><b>Tempo logado:</b> 03:24:32</p>
                        <div class="btnSitesAcessados">
                            <span class="iconify" data-icon="mdi:web" style="color: white; margin-right: 8px;" data-height="16"></span>
                            <span>Verificar Sites Acessados</span>
                        </div>
                    </div>
                </div>
                <div id="divProcessador" class="componente">
                    <div class="descComponente">
                        <h2>Processador</h2>
                        <p id="lblNmProcessador"><b>Nome:</b> AMD Ryzen 3 2200G</p>
                        <p id="lblUsoAtualProcessador"><b>Uso atual:</b> 2333Hz</p>
                    </div>
                    <div id="graficoProcessador" class="grafico">
                    </div>
                </div>
                <div class="componente">
                    <div class="descComponente">
                        <h2>Memória</h2>
                        <p id="lblMemoriaTotal"><b>Memória total:</b> 12,9GB</p>
                        <p id="lblUsoAtualMemoria"><b>Uso atual:</b> 6,1GB</p>
                    </div>
                    <div id="graficoMemoria" class="grafico">
                    </div>
                </div>
                <div id="divDisco" class="componente">
                    <div class="descComponente">
                        <h2>Disco</h2>
                        <p id="lblNmDisco"><b>Nome:</b> Pichau Gaming PG256X</p>
                        <p id="lblRespostaDisco"><b>Tempo médio de resposta:</b> 1,1ms</p>
                    </div>
                    <div id="graficoDisco" class="grafico">
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>

<script>
    let modal = document.getElementById("modalDetalhes");
    let spanFechar = document.getElementById("fecharModal");

    function abrirModal() {
        modal.style.display = "flex";
    }
    spanFechar.onclick = () => modal.style.display = "none";

    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }



    google.charts.load('current', {
        'packages': ['gauge']
    });
    google.charts.setOnLoadCallback(drawChartProcessador);

    function drawChartProcessador() {

        var options = {
            width: 160,
            height: 160,
            redFrom: 90,
            redTo: 100,
            yellowFrom: 75,
            yellowTo: 90,
            minorTicks: 5
        };

        var dataProcessador = google.visualization.arrayToDataTable([
            ['Label', 'Value'],
            ['CPU', 55]
        ]);

        var chart = new google.visualization.Gauge(document.getElementById('graficoProcessador'));

        chart.draw(dataProcessador, options);

        setInterval(function() {
            dataProcessador.setValue(0, 1, 40 + Math.round(60 * Math.random()));
            chart.draw(dataProcessador, options);
        }, 1000);
    }

    google.charts.load('current', {
        'packages': ['gauge']
    });
    google.charts.setOnLoadCallback(drawChartMemoria);

    function drawChartMemoria() {

        var options = {
            width: 160,
            height: 160,
            redFrom: 90,
            redTo: 100,
            yellowFrom: 75,
            yellowTo: 90,
            minorTicks: 5
        };

        var dataMemoria = google.visualization.arrayToDataTable([
            ['Label', 'Value'],
            ['Memória', 55]
        ]);

        var chart = new google.visualization.Gauge(document.getElementById('graficoMemoria'));

        chart.draw(dataMemoria, options);

        setInterval(function() {
            dataMemoria.setValue(0, 1, 40 + Math.round(60 * Math.random()));
            chart.draw(dataMemoria, options);
        }, 1000);
    }

    google.charts.load('current', {
        'packages': ['gauge']
    });
    google.charts.setOnLoadCallback(drawChartDisco);

    function drawChartDisco() {

        var options = {
            width: 160,
            height: 160,
            redFrom: 90,
            redTo: 100,
            yellowFrom: 75,
            yellowTo: 90,
            minorTicks: 5
        };

        var dataDisco = google.visualization.arrayToDataTable([
            ['Label', 'Value'],
            ['Disco', 55]
        ]);

        var chart = new google.visualization.Gauge(document.getElementById('graficoDisco'));

        chart.draw(dataDisco, options);

        setInterval(function() {
            dataDisco.setValue(0, 1, 40 + Math.round(60 * Math.random()));
            chart.draw(dataDisco, options);
        }, 1000);
    }
</script>